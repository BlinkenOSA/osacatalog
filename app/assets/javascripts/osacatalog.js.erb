$('[rel="tooltip"]').tooltip();
$('[rel="popover"]').popover({html : true, container: "body", trigger: "hover" });
$('.dropdown-toggle').dropdown();
$('body').plugGoogleBookContent();

$('body').liveLookup();
$('.image-filmstrip').renderFilmstrip();
$('*[data-accordion-section-target]').accordionSection();
$('*[data-behavior="embed-browse"]').embedBrowse();

$("#browselist").listnav({
    includeAll: false,
    includeOther: true,
    includeNums: false,
    prefixes: ['the','a']
});

$("#browselist_all").listnav({
    includeAll: true,
    includeOther: true,
    includeNums: false,
    prefixes: ['the','a']
});

$(window).load(function(){
    $('#cover').fadeOut(1000);
});

function stickyParts() {
  $('.item-title-sticky').stick_in_parent({
    offset_top: 107,
    bottoming: false
  });

  if (window.innerWidth > 1200) {
    $('.cover-sticky').stick_in_parent({
      offset_top: 170,
      parent: '#document'
    });
  } else if (window.innerWidth <= 1200 && window.innerWidth > 991) {
    $('.cover-sticky').stick_in_parent({
      offset_top: 170,
      parent: '#document',
    });
  } else if (window.innerWidth <= 991) {
    $('.cover-sticky').trigger("sticky_kit:detach");
  }
}

function stickyTableRows() {
    $('table.faTable2_isad').stickyRows({
      rows: ['.isad-thead-sticky', '.isad-tbody-sticky'],
      offsetPixels: 170
    });
}

stickyTableRows();
stickyParts();

$( window ).resize(function() {
  stickyParts();
  stickyTableRows();
});
$(document).on('shown.bs.tab', 'a[href="#findingaids"]', function (e) {
  stickyTableRows();
})
